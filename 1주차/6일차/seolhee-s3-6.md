## S3란?
파일 서버 역할을 하는 서비스이다.

특정한 사진, 동영상 등의 파일을 저장하기 위해 사용할 수 있는 서비스이다.

AWS에서 99.999999999%의 내구성으로 엄청 강조한다. (강의 들으면 100이면 100 다 이 말 한다.)

`내구성` : 파일이 없어지느냐 안없어지느냐

### 사용 할 때
* 중요한 데이터를 안전하게 보관하고 나중에 복원할 때
* 정적 웹 사이트를 호스팅 할 때
* 로그를 S3에 저장할 때
* 파일을 저장하기 위해 S3를 활용

### 특징
* 99.999999999%의 내구성
* 파일에 대한 접근 권한을 지정할 수 있다.
* 저장할 수 있는 파일 수의 제한이 없다.
* 최소 1바이트에서 최대 5TB의 데이터를 저장하고 서비스 할 수 있다.
* 많은 사용자가 접속을 해도 이를 감당하기 위해서 시스템적인 작업을 하지 않아도 된다.
* 버전관리 기능을 통해서 사용자에 의한 실수도 복원이 가능하다.

## s3 만들고 자신의 파일 올려보기 실습
![](https://cdn.discordapp.com/attachments/954177766604030013/1150040908193091684/2023-09-09_21.11.51.png)
버킷 생성 해줍니다.
![](https://cdn.discordapp.com/attachments/954177766604030013/1150042824121794580/2023-09-09_21.19.29.png)
hello 리턴하는 파일 로컬에 만들어주고 올려줍니다.

![](https://cdn.discordapp.com/attachments/954177766604030013/1150139337216901291/2023-09-10_03.43.02.png)
권한 안 주면 이렇게 뜹니당

![](https://cdn.discordapp.com/attachments/954177766604030013/1150137687420969020/2023-09-10_03.36.27.png)
파일 클릭해주고

![](https://cdn.discordapp.com/attachments/954177766604030013/1150138034822590494/2023-09-10_03.37.51.png)
permission 탭에서 ACL 변경 허용해줍니다
* ACL : ACL은 액세스를 허용할 AWS 계정이나 그룹과 액세스 유형을 정의하는 것

![](https://cdn.discordapp.com/attachments/954177766604030013/1150138157090754662/2023-09-10_03.38.21.png)
실습이니까 다 열어줘요

![](https://cdn.discordapp.com/attachments/954177766604030013/1150138755634696303/2023-09-10_03.40.43.png)
그럼 내용물을 볼 수 있어요!

### public으로 생성하면 무슨 일?
* 무단 액세스로 인한 데이터 전송 비용이 증가할 수 있다
* 데이터가 유출 될 수 있다.
    * 아파트에 현관 비밀번호 + 도어락이 보안이 좀 더 좋은 것처럼 민감한 정보는 버킷 private + ACL 권장함



### 어떻게 s3에 접근하는가
IAM 사용자를 만들어서 s3 엑세스를 할 수 있는 권한을 줍니다.
```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::버킷이름/*",
                "arn:aws:s3:::버킷이름"
            ]
        }
    ]
}
```
위는 S3 버킷의 모든 객체에 대한 읽기 전용 권한 정책입니다.

이걸 Permission 탭에 달아주면 되겠죵?

### 플러스로 내가 궁금해서 작성해봄! private bucket과 ACL 뭐가 다를까?
`버킷 정책` : 전체 엑세스 권한

`ACL` : 부분 특정 엑세스 권한

 버킷을 퍼블릭으로 설정하더라도 해당 버킷에 있는 모든 객체가 퍼블릭으로 노출되지는 않음.  
 객체의 ACL 설정에 따라 개별적으로 객체에 대한 액세스 권한을 부여하거나 제한할 수 있음.
 
 그래서 위에 public 버킷이어도 ACL 정의 안 하면 내용물 못 본 거임.
