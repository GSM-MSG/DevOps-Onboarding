## 컨테이너란
컨테이너가 실행되고 있는 호스트 os의 기능을 그대로 사용하면서 프로세스를 격리해 독립된 환경을 만드는 기술이다.

컨테이너는 베이스 환경의 OS를 공유하면서 필요한 프로세스만 격리하는 방식이다.

## VM
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbJ38eS%2FbtrglamQvf2%2FiWWBjDRi1vqPboW5pQynG1%2Fimg.jpg)
공통적으로 하나의 서버가 있고 한서버에는 어떤 운영 체제가 있건 HostOS 가 올라간다.

하이퍼바이저(Hypervisor)를 이용해 여러개의 운영체제를 하나의 호스트에서 생성해서 사용하는 방식애다.
### 하이퍼바이저
![](https://velog.velcdn.com/images%2Fmarkany%2Fpost%2Ffcc402fe-8238-46c1-a93f-ebbd9f7e3e9b%2Fdifference.png)
호스트 하드웨어에 설치되어 호스트와 게스트를 나누는 역할을 한다. 

각각의 게스트는 하이퍼바이저에 의해 관리되며 시스템 자원을 할당받게 됩니다.

## 도커란
컨테이너를 잘 다룰 수 있게 도와주는 기술
도커는 여러 컨테이너들간의 호스트 자원을 분리해서 사용하게 해준다.
`Docker daemon` : 도커 엔진

### 장점
1. 독립된 환경

* 독립된 환경은 여러개의 컨테이너를 띄울 수 있게 함
* 똑같은 애플리케이션 여러개도 가능
* 일부 교체/수정 가능

2. 이미지를 만들 수 있다

* 이미지를 직접 만들고 배포 가능 `Dockerfile`
* 이미지를 내려받아 컨테이너 사용 가능 `docker pull {image_name}`
* 교체/업데이트가 쉬움

3. 한 대의 물리 서버에 여러 대의 서버를 띄울 수 있다.

* 격리된 환경을 제공하므로 각각이 안전한 상태로 실행
* 같은 소트웨어를 여러개 실행하는 것도 가능

## Docker image는 어떻게 생겼나
* 도커에서 서비스 운영에 필요한 서버 프로그램, 소스코드 및 라이브러리, 컴파일된 실행 파일을 묶는 형태를 Docker Image라 한다.
* 특정 프로세스를 실행하기 위한(컨테이너 생성에 필요한) 모든 파일과 환경을 지닌 것으로, 더 이상의 의존성 파일을 컴파일하거나 이것저것 실치 할 필요 없는 상태의 파일이다.

## Docker layer 공유?
* 여러 이미지가 레이어를 공유할 수 있기 때문에 실제로 파일 시스템에서 차지하는 전체 용량이 감소한다.

### 단점
1. 리눅스용 소프트웨어밖에 지원하지 않는다.
* 리눅스 운영체제를 사용하는 기술이기 때문

2. 호스트 서버 문제가 생기면 모든 컨테이너에 영향을 미친다.
* 물리 서버 한 대에 여러 대의 서버를 띄우는 형식


### How?
 리눅스 기술중 `name space`와 `cgroup` 를 사용하여 격리함
 name space, cgroup 제 TIL에 있습니다.

## 내가 생각하는 컨테이너란
* 독립적인 공간에 내 물건이 있을 수 있다.
* 풀옵션 빌라!
